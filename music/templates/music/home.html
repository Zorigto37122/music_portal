{% extends 'music/base.html' %}

{% block content %}
<section style="margin-bottom: 60px; text-align: center; padding: 60px 0;">
    <h1
        style="font-size: 3.5rem; margin-bottom: 20px; background: linear-gradient(to right, #fff, #a5b4fc); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
        Discover Your Sound
    </h1>
    <p style="font-size: 1.2rem; opacity: 0.8; max-width: 600px; margin: 0 auto 30px;">
        Stream the latest hits, explore new genres, and support your favorite artists in high quality.
    </p>
    <div style="position: relative; width: 100%; max-width: 500px; margin: 0 auto;">
        <input type="text" placeholder="Search for artists, albums, or tracks..."
            style="width: 100%; padding: 15px 25px; border-radius: 30px; border: none; background: rgba(255,255,255,0.1); color: white; backdrop-filter: blur(5px);">
        <i class="fas fa-search"
            style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); opacity: 0.7;"></i>
    </div>
</section>

<section style="margin-bottom: 50px;">
    <h2 class="section-title">Featured Albums</h2>
    <div class="grid">
        {% for album in featured_albums %}
        <div class="glass-card" style="padding: 15px;">
            <div
                style="position: relative; margin-bottom: 15px; border-radius: 8px; overflow: hidden; aspect-ratio: 1/1;">
                {% if album.cover_image %}
                <img src="{{ album.cover_image.url }}" alt="{{ album.title }}"
                    style="width: 100%; height: 100%; object-fit: cover;">
                {% else %}
                <div
                    style="width: 100%; height: 100%; background: #333; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-music" style="font-size: 3rem; opacity: 0.5;"></i>
                </div>
                {% endif %}
                <a href="{% url 'music:album_detail' album.pk %}"
                    style="position: absolute; inset: 0; background: rgba(0,0,0,0.4); opacity: 0; transition: opacity 0.3s; display: flex; align-items: center; justify-content: center; text-decoration: none;">
                    <i class="fas fa-play-circle" style="font-size: 3rem; color: white;"></i>
                </a>
            </div>
            <h3 style="font-size: 1.1rem; margin-bottom: 5px;">{{ album.title }}</h3>
            <p style="font-size: 0.9rem; opacity: 0.7;">{{ album.performer.name }}</p>
        </div>
        {% empty %}
        <p>No albums found.</p>
        {% endfor %}
    </div>
</section>

<section>
    <h2 class="section-title">Top Performers</h2>
    <div class="grid" style="grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));">
        {% for performer in top_performers %}
        <div class="glass-card" style="padding: 20px; text-align: center;">
            <div
                style="width: 100px; height: 100px; border-radius: 50%; overflow: hidden; margin: 0 auto 15px; border: 2px solid var(--accent);">
                {% if performer.photo %}
                <img src="{{ performer.photo.url }}" alt="{{ performer.name }}"
                    style="width: 100%; height: 100%; object-fit: cover;">
                {% else %}
                <div
                    style="width: 100%; height: 100%; background: #333; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-user" style="font-size: 2rem; opacity: 0.5;"></i>
                </div>
                {% endif %}
            </div>
            <h3 style="font-size: 1.1rem; margin-bottom: 5px;">
                <a href="{% url 'music:performer_detail' performer.pk %}"
                    style="color: white; text-decoration: none;">{{ performer.name }}</a>
            </h3>
            <p style="font-size: 0.8rem; opacity: 0.7;">{{ performer.get_type_display }}</p>
        </div>
        {% empty %}
        <p>No performers found.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}